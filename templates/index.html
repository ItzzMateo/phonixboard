<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phonix Kanban Board</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  </head>
  <body>
    <div class="header-container">
      <nav class="navbar">
        <div class="navbar-brand">
          <i class="fa-solid fa-fire" style="color: var(--accent)"></i>
          <span>Phonix</span>
        </div>
        <div class="navbar-links">
          <a
            href="https://dc.phonixhost.de"
            class="btn outline"
            target="_blank"
            rel="noopener"
            ><i class="fa-brands fa-discord"></i> Discord</a
          >
          <a
            href="https://panel.phonixhost.de"
            class="btn outline"
            target="_blank"
            rel="noopener"
            ><i class="fa-solid fa-server"></i> Panel</a
          >
        </div>
      </nav>
      <header>
        <h1>Phonix Kanban Board</h1>
        <button
          id="darkmode-toggle"
          class="btn ghost"
          title="Dunkelmodus umschalten"
        >
          <i class="fa-regular fa-moon"></i>
        </button>
      </header>
    </div>
    <main>
      <section class="kanban-board">
        <div class="kanban-column" data-status="To Do">
          <div class="kanban-column-header">
            <span class="column-title">
              <i class="fa-regular fa-clock"></i> To Do
              <span class="task-count"></span>
            </span>
            <button
              class="add-task-btn"
              data-status="To Do"
              title="Neue Aufgabe"
            >
              <i class="fa-solid fa-plus"></i>
            </button>
          </div>
          <div class="kanban-tasks" id="todo-tasks"></div>
        </div>
        <div class="kanban-column" data-status="In Progress">
          <div class="kanban-column-header">
            <span class="column-title">
              <i class="fa-solid fa-person-running"></i> In Progress
              <span class="task-count"></span>
            </span>
            <button
              class="add-task-btn"
              data-status="In Progress"
              title="Neue Aufgabe"
            >
              <i class="fa-solid fa-plus"></i>
            </button>
          </div>
          <div class="kanban-tasks" id="progress-tasks"></div>
        </div>
        <div class="kanban-column" data-status="Done">
          <div class="kanban-column-header">
            <span class="column-title">
              <i class="fa-solid fa-circle-check"></i> Done
              <span class="task-count"></span>
            </span>
            <button
              class="add-task-btn"
              data-status="Done"
              title="Neue Aufgabe"
            >
              <i class="fa-solid fa-plus"></i>
            </button>
          </div>
          <div class="kanban-tasks" id="done-tasks"></div>
        </div>
      </section>
      <!-- Optional: Floating Action Button (FAB) für neue Aufgabe -->
      <!-- <button class="fab" id="fab-add-task" title="Neue Aufgabe"><i class="fa-solid fa-plus"></i></button> -->
    </main>
    <!-- Task Modal -->
    <div id="task-modal" class="modal hidden">
      <div class="modal-content">
        <button type="button" class="close-btn" aria-label="Schließen">
          <i class="fa-solid fa-xmark"></i>
        </button>
        <form id="task-form">
          <input type="hidden" id="task-id" />
          <div class="form-control">
            <label for="task-title">Titel:</label>
            <input type="text" id="task-title" />
            <div class="error-badge" id="title-error">
              Fülle dieses Feld aus
            </div>
          </div>
          <div class="form-control">
            <label for="task-desc"
              >Beschreibung (Markdown wird unterstützt):</label
            >
            <textarea id="task-desc"></textarea>
            <div class="markdown-preview" id="desc-preview"></div>
          </div>
          <div class="form-row">
            <label
              >Status:
              <select id="task-status">
                <option value="To Do">To Do</option>
                <option value="In Progress">In Progress</option>
                <option value="Done">Done</option>
              </select>
            </label>
            <label
              >Priorität:
              <select id="task-priority">
                <option value="high">Hoch</option>
                <option value="normal" selected>Mittel</option>
                <option value="low">Niedrig</option>
              </select>
            </label>
          </div>
          <label for="task-due-date">Fälligkeitsdatum:</label>
          <div class="date-input-wrapper">
            <input type="date" id="task-due-date" />
            <i class="fa-regular fa-calendar"></i>
          </div>
          <label
            >Tags (Komma-getrennt):
            <input
              type="text"
              id="task-tags"
              placeholder="z.B. Bug, Feature, UI"
            />
          </label>
          <label
            >Subtasks (eine pro Zeile):
            <textarea
              id="task-subtasks"
              rows="3"
              placeholder="- Ersten Entwurf erstellen&#10;- Feedback einholen"
            ></textarea>
          </label>
          <button type="submit" class="btn primary">
            <i class="fa-solid fa-floppy-disk"></i> Speichern
          </button>
        </form>
      </div>
    </div>
    <script src="/static/script.js"></script>
  </body>
</html>
